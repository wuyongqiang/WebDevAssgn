USE [restaurant]
GO

SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
SET ANSI_PADDING ON
GO
CREATE TABLE [dbo].[DishItem](
	[Id] [bigint] IDENTITY(1,1) NOT NULL,
	[Name] [varchar](64) COLLATE Chinese_PRC_CI_AS NULL,
	[Descript] [varchar](128) COLLATE Chinese_PRC_CI_AS NULL,
	[Price] [float] NULL
) ON [PRIMARY]

GO
SET ANSI_PADDING OFF

USE [restaurant]
GO

SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
SET ANSI_PADDING ON
GO
CREATE TABLE [dbo].[TOrder](
	[ORDER_ID] [bigint] IDENTITY(1,1) NOT NULL,
	[NAME] [nvarchar](255) COLLATE Chinese_PRC_CI_AS NOT NULL,
	[ADDRESS] [nvarchar](255) COLLATE Chinese_PRC_CI_AS NOT NULL,
	[PHONE] [nvarchar](255) COLLATE Chinese_PRC_CI_AS NOT NULL,
	[ADDTEXT] [nvarchar](255) COLLATE Chinese_PRC_CI_AS NOT NULL,
	[ORDER_TIME] [datetime] NOT NULL,
	[USER_NAME] [varchar](50) COLLATE Chinese_PRC_CI_AS NULL,
	[STATUS] [varchar](50) COLLATE Chinese_PRC_CI_AS NULL,
PRIMARY KEY CLUSTERED 
(
	[ORDER_ID] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
SET ANSI_PADDING OFF

USE [restaurant]
GO

SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[ORDER_ITEMS](
	[ORDER_ITEM_ID] [bigint] IDENTITY(1,1) NOT NULL,
	[DISHID] [bigint] NOT NULL,
	[DISHNAME] [nvarchar](255) COLLATE Chinese_PRC_CI_AS NOT NULL,
	[PRICE] [decimal](18, 2) NOT NULL,
	[AMOUNT] [decimal](18, 2) NOT NULL,
	[SUBPRICE] [decimal](18, 2) NOT NULL,
	[TEXT] [nvarchar](255) COLLATE Chinese_PRC_CI_AS NOT NULL,
	[ORDER_ID] [bigint] NOT NULL,
 CONSTRAINT [PK__ORDER_ITEMS__7F2BE32F] PRIMARY KEY CLUSTERED 
(
	[ORDER_ITEM_ID] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
ALTER TABLE [dbo].[ORDER_ITEMS]  WITH CHECK ADD  CONSTRAINT [FK57F00520D2FD53D] FOREIGN KEY([ORDER_ID])
REFERENCES [dbo].[TOrder] ([ORDER_ID])
GO
ALTER TABLE [dbo].[ORDER_ITEMS] CHECK CONSTRAINT [FK57F00520D2FD53D]

